# 1.todolist

在本章节将会介绍微信小程序开发的入门知识，并且详细地介绍如何实现一个todolist（待办事项）小程序。

## 1.1小程序入门

### 1.1.1 小程序是什么？

   + 本质上来说，微信小程序跟web和app是一样的，都是一种客户端，是一种用户交互的载体。
   但是小程序开发并不只是有客户端的代码就可以的，现实中的小程序绝大多数都是要包括客户端和服务端的。
   由浅入深，本章节将首先介绍一个纯客户端的小程序是如何实现的。
   
   + 开发上来说，微信小程序开发像极了web开发的，技术栈是javascript/wxml/wxss。如果你熟悉web开发，上手微信小程序对你来说将不是难事。
   如果你还拥有vue的开发经验，你将感到小程序开发是多么的似曾相识。
   
   + 原理上来说，一个微信小程序是一个代码包，代码包里打包了javascript/wxml/wxss的代码。
   这个代码包可以运行在三个不同的环境上，ios、android以及小程序开发者工具上。
  
      ```
      运行原理
      微信小程序的运行环境包含两个层
      在ios上，小程序的javascript代码运行在 JavaScriptCore 中
      在android上，小程序的javascript是通过 X5 内核来解析
      在
               
       ```
   
### 1.1.2 开发的准备工作
  
   + 需要在微信公众平台（mp.weixin.qq.com）上注册一个账号。微信公众平台最重要的功能是发布你的小程序，只有发布小程序并通过审核之后的，
   你的小程序才能被其他用户在微信中搜索到并使用。
   
   ![](image/1/mp_weixin.png)
   
   邮箱注册登录之后，会进行小程序主体的选择。
   
   <img src="image/1/mp_select_owner.png" width="300">
   
   主体类型包括个人，企业，政府，媒体和其他组织五种，不同的主体选择会有不同的功能限制。这里建议一般读者选择个人主体即可。
   
      
> **主体选择的区别** 
> 
> 
> 选择不同的主体都需要提交相关的资料，比如说选择个人主体需要提交用户的真实身份证信息，选择企业主体的话需要提交公司的营业执照等信息。
> 除了提交资料之外，如果需要使用更多功能（如支付功能），还需要进行微信认证。暂时个人主体不支持微信认证，这也就意味着个人主体的小程序很多功能是无法使用的。
> 
>
> | 主体类型  | 申请微信认证 | 使用微信支付 | 开发者上限 | 「附近的小程序」展示
> | ----- | ----- | ----- | ----- | ----- |
> | 个人  | ☓   |  ☓   | 10   | ☓   |
> | 企业（未认证）  |  √ |   ☓   | 10   | ☓   |
> | 企业（已认证）  |  √ |   √   | 20   | √   |
> 
> _**政府、媒体和其他组织与企业相类似_
>            
> 微信认证需要提交材料到第三方认证并缴纳一定的费用，现在的定价是300元的手续费。并且微信认证并不是永久有效的，每年需要缴纳费用保持微信认证资格。
> 
> <img src="image/1/mp_author.png" width="300">
> 
> 对于未微信认证的小程序，暂时发现的受限制功能如下：
> 1. 微信支付功能
> 2. 卡券功能
> 3.「附近的小程序」功能
> 4. 获取微信用户绑定的手机号码
> 
> 除上述功能之外，其他功能是能够同样的使用的。大部分的读者可能无法完成微信认证，为了满足读者的需要，这些受限制的功能在后面的章节中也会进行介绍。


   而当你的小程序上线之后，如果需要变更主体，小程序官方提供了小程序主体迁移功能，但是手续也并不简单。因此如果你的小程序需要长远发展（尤其涉及到商业方面），在选择主体的时候需要慎重考虑。
    
> **主体迁移**
> 主体有几个注意事项，详细信息可以参考官方文档（http://kf.qq.com/faq/180830iEVNVB180830ZRvMVJ.html）
> 1. 目前只支持个人主体迁移到组织主体，组织主体迁移到组织主体。目标主体不支持为个人类型。
> 2. 跟微信认证类似，无论迁移是否成功，小程序的迁移需要缴纳300元手续费。
> 3. 开通了微信支付的小程序在迁移之前，需要先解绑原来的商户账号。为了保持支付不中断，建议先绑定信的商户账户，再解绑原主体的商户号
>
> 如果不选择使用主体迁移功能，可以在原有小程序上引导用户跳转至新的小程序。
> 但是使用这种"人肉迁移"的方式，在迁移过程中不可避免的会造成数据流失和用户流失。首先因为微信小程序用UnionID来识别不同的用户，但是在不同的
> 的主体下，即使是相同的用户的UnionID也并不相同。所以"人肉迁移"后只能通过其他的方式映射新老小程序的用户数据了。其次，这种引导用户跳转到新小程序的过程中，需要
> 用户每次手动点击确定，这几乎是必然地带来一部分用户流失。

   可以看到微信公众平台上提供了很多功能。功能主要划分为主要有以下几个板块，具体的使用场景在后续章节中会结合示例小程序进行详细介绍。
   
   + 下载微信小程序开发工具

## 1.2 开发TODOLIST

这一节中，我们将详细介绍如何实现一个纯客户端的todolist小程序。
在微信小程序中搜索“20天之todolist”或者扫描下图二维码，可以进行体验最终效果。完整代码可以在github地址()下载。

<img src="image/1/mp_search.jpg" width="300">


<img src="image/1/qr_code.jpg" width="300">

    
我们最终所要实现的效果图如下:
    
<img src="image/1/demo.jpg" width="300">    
  

一个小程序代码典型结构是这样：

<img src="image/1/code_proto.jpg" width="300">    


其中页面由以下这几个部分组成。

index.js
index.wxml
.wxss 



```
rpx与px概念
在h5开发中， rpx的意思是responsive pixel
可见在不同设备下， 35px和35rpx的区别。
（图片）
微信规定屏幕宽为750rpx。
简单来说，rpx iphone6的设备宽高比为750 * 1334，如果设计给出的基于iphon6的设计来说
```



1. 首先我们需要一个列表功能。

2. 增加add button

3. 状态变化


# 参考资料
微信小程序认证有哪些主体类别？  https://www.sohu.com/a/165305873_99940999
主体功能差异 http://blog.sina.com.cn/s/blog_ed7dae4a0102xjb2.html
微信小程序原理 http://eux.baidu.com/blog/fe/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%9E%B6%E6%9E%84%E5%8E%9F%E7%90%86

开发者工具 https://blog.csdn.net/qq_17470165/article/details/80200857
https://blog.csdn.net/u012767761/article/details/81151830
